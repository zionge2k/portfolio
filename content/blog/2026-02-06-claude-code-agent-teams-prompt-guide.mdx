---
title: "Claude Code Agent Teams 프롬프트 작성 가이드"
description: "Agent Teams로 여러 AI 에이전트가 병렬 협업할 때, 파일 충돌 없이 효과적으로 팀을 구성하는 프롬프트 패턴과 템플릿."
date: "2026-02-06"
tags: ["claude-code", "ai", "prompt-engineering"]
published: true
---

## Agent Teams란

Claude Code의 Agent Teams 기능을 사용하면 여러 AI 에이전트가 팀으로 협업하여 작업을 병렬 처리할 수 있다. 하지만 프롬프트를 잘못 작성하면 파일 충돌, 역할 혼선, 비효율적 토큰 사용 등의 문제가 발생한다.

프롬프트를 잘못 쓰면 겪는 문제 4가지:

1. **파일 충돌** — 여러 teammate가 같은 파일을 동시에 수정
2. **역할 모호성** — 담당 범위가 불명확해서 중복 작업이나 누락 발생
3. **토큰 폭증** — teammate 수 × 각자의 context window → 비용 급증
4. **방치 위험** — 너무 큰 태스크를 주면 teammate가 방향을 잃음

## 실행 방법

```bash
# 1. tmux 세션 시작
tmux new-session -s claude

# 2. 프로젝트 디렉토리에서 Claude Code 실행
cd ~/projects/your-project
claude

# 3. Claude Code 안에서 자연어로 팀 생성 요청
```

## 프롬프트 필수 요소

| 요소 | 설명 | 예시 |
|------|------|------|
| 팀 생성 명시 | "Create an agent team" | 반드시 포함 |
| 역할 정의 | 각 teammate의 담당 범위 | backend, frontend, tester |
| 구체적 컨텍스트 | 파일 경로, 기술 스택, 제약 조건 | `src/main/java/notification/` |
| 파일 소유권 분리 | 같은 파일을 여러 teammate가 수정 금지 | 명시적 경로 할당 |

### 선택적 제어 옵션

- 모델 지정: `Use Sonnet for each teammate`
- 팀원 수 지정: `Spawn 3 teammates`
- plan 승인 요구: `Require plan approval before they make any changes`
- delegate 모드: 팀 생성 후 `Shift+Tab`으로 활성화

## 프롬프트 템플릿

### A. 새 기능 구현 (가장 일반적)

```
Create an agent team to implement [기능 설명].

Spawn [N] teammates:
- [이름/역할]: [담당 범위]. 파일: [파일 경로들]
- [이름/역할]: [담당 범위]. 파일: [파일 경로들]
- [이름/역할]: [담당 범위]. 파일: [파일 경로들]

기술 스택: [Spring Boot, React 등]
Require plan approval before making changes.
Use Sonnet for each teammate.
Wait for all teammates to complete before synthesizing.
```

실제 예시:

```
Create an agent team to implement user notification system.

Spawn 3 teammates:
- backend: REST API와 서비스 로직 구현. 파일: src/main/java/notification/
- frontend: 알림 UI 컴포넌트 구현. 파일: src/components/notification/
- tester: 백엔드 단위 테스트와 통합 테스트. 파일: src/test/notification/

기술 스택: Spring Boot 3, React, JUnit 5
Require plan approval before making changes.
Each teammate should not modify files outside their designated paths.
```

### B. 코드 리뷰

```
Create an agent team to review PR #[번호]. Spawn three reviewers:
- One focused on security implications
- One checking performance impact
- One validating test coverage
Have them each review and report findings.
```

### C. 버그 디버깅 (경쟁 가설)

```
[버그 현상 설명].
Spawn [N] agent teammates to investigate different hypotheses.
Have them talk to each other to try to disprove each other's theories.
Update the findings with whatever consensus emerges.
```

### D. 리팩토링

```
Create an agent team with [N] teammates to refactor [대상] in parallel.
Each teammate owns a separate module:
- [teammate 1]: [모듈 A]
- [teammate 2]: [모듈 B]
- [teammate 3]: [모듈 C]
Require plan approval. No teammate should modify another's files.
Use Sonnet for each teammate.
```

### E. 리서치/탐색

```
Create an agent team to explore [주제] from different angles:
- One on [관점 A]
- One on [관점 B]
- One playing devil's advocate
Have them share and challenge each other's findings.
```

## 실행 중 제어

| 상황 | 프롬프트 |
|------|----------|
| 리더가 직접 코딩 시작할 때 | `Wait for your teammates to complete their tasks before proceeding` |
| 작업 세분화 요청 | `Split the work into smaller pieces, 5-6 tasks per teammate` |
| 특정 teammate 종료 | `Ask the [이름] teammate to shut down` |
| 전체 팀 정리 | `Clean up the team` |
| delegate 모드 | `Shift+Tab` (리더가 조율만 하고 코딩 안함) |

### tmux split-pane 조작

| 동작 | 키 |
|------|-----|
| pane 간 이동 | `Ctrl+B` → 방향키, 또는 마우스 클릭 |
| teammate에게 직접 입력 | 해당 pane 클릭 후 타이핑 |
| task list 토글 | `Ctrl+T` |

## 주의사항

1. **파일 충돌 방지**: 각 teammate가 서로 다른 파일을 담당하도록 명시
2. **토큰 사용량**: teammate 수 × 각자의 context window → 비용이 크게 증가
3. **적정 태스크 크기**: teammate당 5-6개 태스크가 적정. 너무 작으면 오버헤드, 너무 크면 방치 위험
4. **첫 사용 시**: 코드 작성보다 리뷰/리서치 작업으로 시작 권장
