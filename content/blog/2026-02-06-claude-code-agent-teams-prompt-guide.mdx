---
title: "Claude Code Agent Teams 프롬프트 작성 가이드"
description: "Agent Teams로 여러 AI 에이전트가 병렬 협업할 때, 파일 충돌 없이 효과적으로 팀을 구성하는 프롬프트 패턴과 템플릿."
date: "2026-02-06"
tags: ["claude-code", "ai", "prompt-engineering"]
published: true
---

## Agent Teams란

Claude Code의 Agent Teams 기능을 사용하면 여러 AI 에이전트가 팀으로 협업하여 작업을 병렬 처리할 수 있다. 하지만 프롬프트를 잘못 작성하면 파일 충돌, 역할 혼선, 비효율적 토큰 사용 등의 문제가 발생한다.

프롬프트를 잘못 쓰면 겪는 문제 4가지:

1. **파일 충돌** — 여러 teammate가 같은 파일을 동시에 수정
2. **역할 모호성** — 담당 범위가 불명확해서 중복 작업이나 누락 발생
3. **토큰 폭증** — teammate 수 × 각자의 context window → 비용 급증
4. **방치 위험** — 너무 큰 태스크를 주면 teammate가 방향을 잃음

## 실행 방법

```bash
# 1. tmux 세션 시작
tmux new-session -s claude

# 2. 프로젝트 디렉토리에서 Claude Code 실행
cd ~/projects/your-project
claude

# 3. Claude Code 안에서 자연어로 팀 생성 요청
```

## 프롬프트 필수 요소

| 요소 | 설명 | 예시 |
|------|------|------|
| 팀 생성 명시 | "에이전트 팀을 만들어줘" | 반드시 포함 |
| 역할 정의 | 각 teammate의 담당 범위 | backend, frontend, tester |
| 구체적 컨텍스트 | 파일 경로, 기술 스택, 제약 조건 | `src/main/java/notification/` |
| 파일 소유권 분리 | 같은 파일을 여러 teammate가 수정 금지 | 명시적 경로 할당 |

### 선택적 제어 옵션

- 모델 지정: `각 팀원은 Sonnet 모델을 사용해`
- 팀원 수 지정: `팀원 3명을 생성해`
- plan 승인 요구: `변경 전에 계획 승인을 받아`
- delegate 모드: 팀 생성 후 `Shift+Tab`으로 활성화

## 프롬프트 템플릿

### A. 새 기능 구현 (가장 일반적)

```
[기능 설명]을 구현할 에이전트 팀을 만들어줘.

팀원 [N]명 생성:
- [이름/역할]: [담당 범위]. 파일: [파일 경로들]
- [이름/역할]: [담당 범위]. 파일: [파일 경로들]
- [이름/역할]: [담당 범위]. 파일: [파일 경로들]

기술 스택: [Spring Boot, React 등]
변경 전에 계획 승인을 받아.
각 팀원은 Sonnet 모델을 사용해.
모든 팀원이 완료될 때까지 기다린 후 종합해.
```

실제 예시:

```
사용자 알림 시스템을 구현할 에이전트 팀을 만들어줘.

팀원 3명 생성:
- backend: REST API와 서비스 로직 구현. 파일: src/main/java/notification/
- frontend: 알림 UI 컴포넌트 구현. 파일: src/components/notification/
- tester: 백엔드 단위 테스트와 통합 테스트. 파일: src/test/notification/

기술 스택: Spring Boot 3, React, JUnit 5
변경 전에 계획 승인을 받아.
각 팀원은 지정된 경로 외의 파일을 수정하지 마.
```

### B. 코드 리뷰

```
PR #[번호]를 리뷰할 에이전트 팀을 만들어줘. 리뷰어 3명 생성:
- 보안 관점에서 검토하는 리뷰어
- 성능 영향을 확인하는 리뷰어
- 테스트 커버리지를 검증하는 리뷰어
각자 리뷰하고 결과를 보고해.
```

### C. 버그 디버깅 (경쟁 가설)

```
[버그 현상 설명].
서로 다른 가설을 조사할 에이전트 팀원 [N]명을 생성해.
서로 대화하면서 상대방의 가설을 반증하도록 해.
합의된 결론으로 결과를 정리해.
```

### D. 리팩토링

```
[대상]을 병렬로 리팩토링할 에이전트 팀 [N]명을 만들어줘.
각 팀원이 별도 모듈을 담당:
- [팀원 1]: [모듈 A]
- [팀원 2]: [모듈 B]
- [팀원 3]: [모듈 C]
계획 승인 필수. 다른 팀원의 파일을 수정하지 마.
각 팀원은 Sonnet 모델을 사용해.
```

### E. 리서치/탐색

```
[주제]를 다양한 각도에서 탐색할 에이전트 팀을 만들어줘:
- [관점 A] 담당
- [관점 B] 담당
- 반대 의견을 제시하는 역할
서로의 조사 결과를 공유하고 반박해.
```

## 실행 중 제어

| 상황 | 프롬프트 |
|------|----------|
| 리더가 직접 코딩 시작할 때 | `팀원들이 작업 완료할 때까지 기다려` |
| 작업 세분화 요청 | `작업을 더 잘게 나눠줘, 팀원당 5-6개 태스크로` |
| 특정 teammate 종료 | `[이름] 팀원을 종료시켜` |
| 전체 팀 정리 | `팀을 정리해` |
| delegate 모드 | `Shift+Tab` (리더가 조율만 하고 코딩 안함) |

### tmux split-pane 조작

| 동작 | 키 |
|------|-----|
| pane 간 이동 | `Ctrl+B` → 방향키, 또는 마우스 클릭 |
| teammate에게 직접 입력 | 해당 pane 클릭 후 타이핑 |
| task list 토글 | `Ctrl+T` |

## 주의사항

1. **파일 충돌 방지**: 각 teammate가 서로 다른 파일을 담당하도록 명시
2. **토큰 사용량**: teammate 수 × 각자의 context window → 비용이 크게 증가
3. **적정 태스크 크기**: teammate당 5-6개 태스크가 적정. 너무 작으면 오버헤드, 너무 크면 방치 위험
4. **첫 사용 시**: 코드 작성보다 리뷰/리서치 작업으로 시작 권장
